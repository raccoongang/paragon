{"version":3,"sources":["../../src/InputSelect/index.jsx"],"names":["React","PropTypes","asInput","withDeprecatedProps","DEPR_TYPES","Select","props","options","map","option","i","section","groupOpts","opt","j","getOption","label","className","inputRef","others","getOptions","disabled","value","Component","propTypes","string","oneOfType","func","shape","current","instanceOf","element","arrayOf","object","isRequired","defaultProps","undefined","InputSelect","deprType","FORMAT","expect","transform","Array","isArray","join","message"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport asInput from '../asInput';\nimport withDeprecatedProps, { DEPR_TYPES } from '../withDeprecatedProps';\n\nclass Select extends React.Component {\n  static getOption(option, i) {\n    const { disabled } = option;\n    let { label, value } = option;\n\n    if (typeof option === 'string') {\n      label = option;\n      value = option;\n    }\n\n    return (\n      <option\n        key={`option-${i}`}\n        value={value}\n        disabled={disabled}\n      >\n        {label}\n      </option>\n    );\n  }\n\n  getOptions() {\n    return this.props.options.map((option, i) => {\n      let section;\n      if (option.options) {\n        const groupOpts = option.options.map((opt, j) => Select.getOption(opt, j));\n        section = (\n          <optgroup label={option.label} key={option.label}>\n            {groupOpts}\n          </optgroup>\n        );\n      } else {\n        section = Select.getOption(option, i);\n      }\n      return section;\n    });\n  }\n\n  render() {\n    const {\n      className,\n      inputRef,\n      ...others\n    } = this.props;\n    const options = this.getOptions();\n\n    return (\n      <select\n        {...others}\n        className={className}\n        type=\"select\"\n        ref={inputRef}\n      >\n        {options}\n      </select>\n    );\n  }\n}\n\nSelect.propTypes = {\n  className: PropTypes.string,\n  inputRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(PropTypes.element) }),\n  ]),\n  options: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.string),\n    PropTypes.arrayOf(PropTypes.object),\n  ]).isRequired,\n};\n\nSelect.defaultProps = {\n  className: undefined,\n  inputRef: undefined,\n};\n\nconst InputSelect = asInput(withDeprecatedProps(Select, 'InputSelect', {\n  className: {\n    deprType: DEPR_TYPES.FORMAT,\n    expect: value => typeof value === 'string',\n    transform: value => (Array.isArray(value) ? value.join(' ') : value),\n    message: 'It should be a string.',\n  },\n}));\n\nexport default InputSelect;\n"],"file":"index.js"}