{"version":3,"sources":["../../src/Input/index.jsx"],"names":["React","classNames","PropTypes","Input","process","env","NODE_ENV","checkHasLabel","type","props","forwardedRef","element","current","inputEl","labels","length","getAttribute","console","warn","options","map","option","value","label","group","attributes","renderOptions","className","htmlTag","getHTMLTagForType","htmlProps","getClassNameForType","undefined","ref","setRef","htmlChildren","createElement","Component","propTypes","oneOf","isRequired","string","arrayOf","shape","oneOfType","number","disabled","bool","defaultProps","InputWithRefForwarding","forwardRef"],"mappings":"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","sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\n\nclass Input extends React.Component {\n  componentDidMount() {\n    if (process.env.NODE_ENV === 'development') {\n      this.checkHasLabel();\n    }\n  }\n\n  getHTMLTagForType() {\n    const { type } = this.props;\n    if (type === 'select' || type === 'textarea') { return type; }\n    return 'input';\n  }\n\n  getClassNameForType() {\n    switch (this.props.type) {\n      case 'file':\n        return 'form-control-file';\n      case 'checkbox':\n      case 'radio':\n        return 'form-check-input';\n      default:\n        return 'form-control';\n    }\n  }\n\n  setRef(forwardedRef) {\n    // In production just return the optional forwardedRef\n    if (process.env.NODE_ENV !== 'development') { return forwardedRef; }\n\n    return (element) => {\n      if (forwardedRef) { forwardedRef.current = element; } // eslint-disable-line no-param-reassign\n      this.inputEl = element;\n    };\n  }\n\n  checkHasLabel() {\n    if (this.inputEl.labels.length > 0) { return; }\n    if (this.inputEl.getAttribute('aria-label') !== null) { return; }\n    if (this.inputEl.getAttribute('aria-labelledby') !== null) { return; }\n\n    if (console) {\n      // eslint-disable-next-line no-console\n      console.warn('Input[a11y]: There is no associated label for this Input');\n    }\n  }\n\n  renderOptions(options) {\n    return options.map((option) => {\n      const {\n        value,\n        label,\n        group,\n        ...attributes\n      } = option;\n\n      if (group) {\n        return (\n          <optgroup key={`optgroup-${label}`} label={label} {...attributes}>\n            {this.renderOptions(group)}\n          </optgroup>\n        );\n      }\n      return (\n        <option key={value} value={value} {...attributes}>\n          {label}\n        </option>\n      );\n    }, this);\n  }\n\n  render() {\n    const {\n      type,\n      className,\n      options,\n      forwardedRef, // eslint-disable-line react/prop-types\n      ...attributes // eslint-disable-line react/prop-types\n    } = this.props;\n\n    const htmlTag = this.getHTMLTagForType();\n    const htmlProps = {\n      className: classNames(this.getClassNameForType(), className),\n      type: htmlTag === 'input' ? type : undefined,\n      ...attributes,\n      ref: this.setRef(forwardedRef),\n    };\n    const htmlChildren = type === 'select' ? this.renderOptions(options) : null;\n\n    return React.createElement(htmlTag, htmlProps, htmlChildren);\n  }\n}\n\nInput.propTypes = {\n  /** specifies the type of component.\n   * One of select, textarea, or any valid type for an html input tag. */\n  type: PropTypes.oneOf([\n    'textarea',\n    'select',\n    'checkbox',\n    'color',\n    'date',\n    'datetime',\n    'datetime-local',\n    'email',\n    'file',\n    'hidden',\n    'image',\n    'month',\n    'number',\n    'password',\n    'radio',\n    'range',\n    'reset',\n    'search',\n    'submit',\n    'tel',\n    'text',\n    'time',\n    'url',\n    'week',\n  ]).isRequired,\n  /** specifies the className in addition to a bootstrap class name. */\n  className: PropTypes.string,\n  /** should be used to specify the options of an Input of type select */\n  options: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    disabled: PropTypes.bool,\n    group: PropTypes.arrayOf(PropTypes.shape({\n      label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n      value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n      disabled: PropTypes.bool,\n    })),\n  })),\n};\n\nInput.defaultProps = {\n  className: undefined,\n  options: [],\n};\n\n// eslint-disable-next-line react/no-multi-comp\nconst InputWithRefForwarding = React.forwardRef((props, ref) => (\n  <Input forwardedRef={ref} {...props} />\n));\n\nexport default InputWithRefForwarding;\n"],"file":"index.js"}