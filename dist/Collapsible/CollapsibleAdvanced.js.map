{"version":3,"sources":["../../src/Collapsible/CollapsibleAdvanced.jsx"],"names":["React","classNames","PropTypes","CollapsibleContext","createContext","CollapsibleAdvanced","props","setState","isOpen","onOpen","onToggle","onClose","state","close","open","undefined","defaultOpen","children","className","toggle","Component","propTypes","node","string","bool","func","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\n\nexport const CollapsibleContext = React.createContext();\n\nclass CollapsibleAdvanced extends React.Component {\n  static getDerivedStateFromProps(props) {\n    if (props.open !== undefined) {\n      return {\n        // Since this method fires on both props and state changes, local updates\n        // to the controlled value will be ignored, because the props version\n        // always overrides it. In this case, this is exactly what we want.\n        isOpen: props.open,\n      };\n    }\n    return null;\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isOpen: props.open !== undefined ? props.open : props.defaultOpen,\n    };\n  }\n\n  open = () => {\n    this.setState({ isOpen: true });\n\n    if (this.props.onOpen) {\n      this.props.onOpen();\n    }\n    if (this.props.onToggle) {\n      this.props.onToggle(true);\n    }\n  }\n\n  close = () => {\n    this.setState({ isOpen: false });\n\n    if (this.props.onClose) {\n      this.props.onClose();\n    }\n    if (this.props.onToggle) {\n      this.props.onToggle(false);\n    }\n  }\n\n  toggle = () => {\n    if (this.state.isOpen) {\n      this.close();\n    } else {\n      this.open();\n    }\n  }\n\n  render() {\n    const {\n      children,\n      className,\n      ...props\n    } = this.props;\n\n    // Unneeded for passthrough props\n    delete props.defaultOpen;\n    delete props.onToggle;\n    delete props.onOpen;\n    delete props.onClose;\n\n    return (\n      <div\n        {...props}\n        className={classNames('pgn_collapsible', className, {\n          'is-open': this.state.isOpen,\n        })}\n      >\n        <CollapsibleContext.Provider\n          value={{\n            isOpen: this.state.isOpen,\n            open: this.open,\n            close: this.close,\n            toggle: this.toggle,\n          }}\n        >\n          {children}\n        </CollapsibleContext.Provider>\n      </div>\n    );\n  }\n}\n\nCollapsibleAdvanced.propTypes = {\n  /** Specifies contents of the component. */\n  children: PropTypes.node,\n  /** Specifies classname to append to the base element. */\n  className: PropTypes.string,\n  /** Specifies whether `Collapsible` should be initially open. */\n  defaultOpen: PropTypes.bool,\n  /** Specifies whether `Collapsible` is open. */\n  open: PropTypes.bool,\n  /** Callback fired when `Collapsible's` state is toggled. */\n  onToggle: PropTypes.func,\n  /** Callback fired when `Collapsible` opens. */\n  onOpen: PropTypes.func,\n  /** Callback fired when `Collapsible` closes. */\n  onClose: PropTypes.func,\n};\n\nCollapsibleAdvanced.defaultProps = {\n  children: undefined,\n  className: undefined,\n  defaultOpen: false,\n  open: undefined,\n  onToggle: undefined,\n  onOpen: undefined,\n  onClose: undefined,\n};\n\nexport default CollapsibleAdvanced;\n"],"file":"CollapsibleAdvanced.js"}