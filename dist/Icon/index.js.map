{"version":3,"sources":["../../src/Icon/index.jsx"],"names":["React","PropTypes","classNames","FormattedMessage","newId","withDeprecatedProps","DEPR_TYPES","Icon","Component","src","id","className","hidden","screenReaderText","svgAttrs","attrs","renderIntlScreenReaderText","hasAriaLabel","mergedSvgProps","undefined","propTypes","oneOfType","element","func","object","string","bool","defaultProps","deprType","FORMAT","expect","value","transform","Array","isArray","join","message"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { FormattedMessage } from 'react-intl';\n\nimport newId from '../utils/newId';\nimport withDeprecatedProps, { DEPR_TYPES } from '../withDeprecatedProps';\n\n/**\n * An svg with an \"img\" role must satisfy the following a11y requirements\n * - It needs a text alternative in the form of aria-label, aria-labelledby, or screen-reader only text.\n * - If no label is desired, aria-label will be set to an empty string and aria-hidden to \"true\".\n * - focusable is set to false on the svg in all cases as a workaround for an ie11 bug\n */\n\nfunction Icon({\n  src: Component,\n  id,\n  className,\n  hidden,\n  screenReaderText,\n  svgAttrs,\n  ...attrs\n}) {\n  const renderIntlScreenReaderText = () => (\n    <span className=\"sr-only\">\n      <FormattedMessage\n        id=\"pgn.Icon.screenReaderText\"\n        defaultMessage={screenReaderText}\n        description=\"Text to display for screen readers.\"\n      />\n    </span>\n  );\n  if (Component) {\n    // If no aria label is specified, hide this icon from screenreaders\n    const hasAriaLabel = svgAttrs['aria-label'] || svgAttrs['aria-labelledby'];\n\n    const mergedSvgProps = { ...svgAttrs };\n\n    if (!hasAriaLabel) {\n      mergedSvgProps['aria-label'] = undefined;\n      mergedSvgProps['aria-hidden'] = true;\n    }\n\n    return (\n      <span\n        className={classNames('pgn__icon', className)}\n        id={id}\n        {...attrs}\n      >\n        <Component\n          role=\"img\"\n          focusable={false}\n          {...mergedSvgProps}\n        />\n        {screenReaderText && renderIntlScreenReaderText()}\n      </span>\n    );\n  }\n\n  return (\n    <>\n      <span\n        id={id || newId('Icon')}\n        className={className}\n        aria-hidden={hidden}\n      />\n      {screenReaderText && renderIntlScreenReaderText()}\n    </>\n  );\n}\n\nIcon.propTypes = {\n  // eslint-disable-next-line max-len\n  /** An icon component to render. Example import of a Paragon icon component: `import { Check } from '@edx/paragon/dist/icon';` */\n  src: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n  /** HTML element attributes to pass through to the underlying svg element */\n  svgAttrs: PropTypes.object, // eslint-disable-line\n  // eslint-disable-next-line max-len\n  /** the `id` property of the Icon element, by default this value is generated with the `newId` function with the `prefix` of `Icon`. */\n  id: PropTypes.string,\n  // eslint-disable-next-line max-len\n  /** array of class names that will define what the Icon looks like. For example, a list of FontAwesome style names. */\n  className: PropTypes.string,\n  // eslint-disable-next-line max-len\n  /** a boolean that determines the value of `aria-hidden` attribute on the Icon span, this value is `true` by default. */\n  hidden: PropTypes.bool,\n  // eslint-disable-next-line max-len\n  /** a string or an element that will be used on a secondary span leveraging the `sr-only` style for screenreader only text, this value is `undefined` by default. This value is recommended for use unless the Icon is being used in a way that is purely decorative or provides no additional context for screen reader users. This field should be thought of the same way an `alt` attribute would be used for `image` tags.\n   */\n  screenReaderText: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n};\n\nIcon.defaultProps = {\n  src: null,\n  svgAttrs: {},\n  id: undefined,\n  hidden: true,\n  screenReaderText: undefined,\n  className: undefined,\n};\n\nexport default withDeprecatedProps(Icon, 'Icon', {\n  className: {\n    deprType: DEPR_TYPES.FORMAT,\n    expect: value => typeof value === 'string',\n    transform: value => (Array.isArray(value) ? value.join(' ') : value),\n    message: 'It should be a string.',\n  },\n});\n"],"file":"index.js"}