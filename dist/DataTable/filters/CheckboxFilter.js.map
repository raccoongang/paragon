{"version":3,"sources":["../../../src/DataTable/filters/CheckboxFilter.jsx"],"names":["React","useRef","useMemo","PropTypes","Form","FormLabel","Badge","newId","LabelledCheckbox","CheckboxFilter","column","filterValue","setFilter","Header","filterChoices","getHeaderProps","ariaLabel","key","checkedBoxes","changeCheckbox","value","includes","newCheckedBoxes","filter","val","push","headerBasedId","current","map","name","number","undefined","propTypes","shape","func","isRequired","oneOfType","node","arrayOf","string"],"mappings":"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","sourcesContent":["import React, { useRef, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Form, FormLabel, Badge,\n} from '../..';\nimport { newId } from '../../utils';\nimport LabelledCheckbox from './LabelledCheckbox';\n\nfunction CheckboxFilter({\n  column: {\n    filterValue, setFilter, Header, filterChoices, getHeaderProps,\n  },\n}) {\n  // creates a unique label that does not change on re-render in case there are multiple checkbox filters in the dom\n  const ariaLabel = useRef(newId(`checkbox-filter-label-${getHeaderProps().key}-`));\n\n  const checkedBoxes = filterValue || [];\n  const changeCheckbox = (value) => {\n    if (checkedBoxes.includes(value)) {\n      const newCheckedBoxes = checkedBoxes.filter((val) => val !== value);\n      return setFilter(newCheckedBoxes);\n    }\n    checkedBoxes.push(value);\n    return setFilter(checkedBoxes);\n  };\n  const headerBasedId = useMemo(() => `checkbox-filter-check-${getHeaderProps().key}-`, [getHeaderProps]);\n\n  return (\n    <Form.Group role=\"group\" aria-labelledby={ariaLabel.current}>\n      <FormLabel id={ariaLabel.current} className=\"pgn__checkbox-filter-label\">{Header}</FormLabel>\n      {filterChoices.map(({ name, number, value }) => (\n        <LabelledCheckbox\n          id={headerBasedId}\n          key={headerBasedId + name}\n          checked={checkedBoxes.includes(value)}\n          onChange={() => { changeCheckbox(value); }}\n          label={<>{name} {number !== undefined && <Badge variant=\"light\">{number}</Badge>}</>}\n        />\n      ))}\n    </Form.Group>\n  );\n}\n\nCheckboxFilter.propTypes = {\n  /**\n   * Specifies a column object.\n   *\n   * `setFilter`: Function to set the filter value.\n   *\n   * `Header`: Column header used for labels and placeholders.\n   *\n   * `filterChoices`: Specifies array of choices.\n   *\n   * `getHeaderProps`: Generates a key unique to the column being filtered.\n   *\n   * `filterValue`: Value for the filter input.\n   */\n  column: PropTypes.shape({\n    setFilter: PropTypes.func.isRequired,\n    Header: PropTypes.oneOfType([PropTypes.func, PropTypes.node]).isRequired,\n    filterChoices: PropTypes.arrayOf(PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n      number: PropTypes.number,\n    })).isRequired,\n    getHeaderProps: PropTypes.func.isRequired,\n    filterValue: PropTypes.string,\n  }).isRequired,\n};\n\nexport default CheckboxFilter;\n"],"file":"CheckboxFilter.js"}