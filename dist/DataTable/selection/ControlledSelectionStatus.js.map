{"version":3,"sources":["../../../src/DataTable/selection/ControlledSelectionStatus.jsx"],"names":["React","useContext","useEffect","PropTypes","DataTableContext","BaseSelectionStatus","clearSelectionAction","setSelectAllRowsAllPagesAction","setSelectedRowsAction","getUnselectedPageRows","getRowIds","CLEAR_SELECTION_TEXT","ControlledSelectionStatus","className","clearSelectionText","itemCount","rows","controlledTableSelections","selectedRows","isEntireTableSelected","dispatch","selectedRowIds","unselectedPageRows","length","numSelectedRows","selectionStatusProps","onSelectAll","onClear","defaultProps","undefined","propTypes","string"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,QAA6C,OAA7C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,OAAOC,gBAAP,MAA6B,qBAA7B;AACA,OAAOC,mBAAP,MAAgC,uBAAhC;AAEA,SACEC,oBADF,EAEEC,8BAFF,EAGEC,qBAHF,QAIO,gBAJP;AAKA,SACEC,qBADF,EAEEC,SAFF,QAGO,gBAHP;AAIA,SAASC,oBAAT,QAAqC,kBAArC;;AAEA,IAAMC,yBAAyB,GAAG,SAA5BA,yBAA4B,OAAuC;AAAA,MAApCC,SAAoC,QAApCA,SAAoC;AAAA,MAAzBC,kBAAyB,QAAzBA,kBAAyB;;AACvE,oBAIIb,UAAU,CAACG,gBAAD,CAJd;AAAA,MACEW,SADF,eACEA,SADF;AAAA,MAEEC,IAFF,eAEEA,IAFF;AAAA,yDAGEC,yBAHF;AAAA;AAAA,MAGgCC,YAHhC,0BAGgCA,YAHhC;AAAA,MAG8CC,qBAH9C,0BAG8CA,qBAH9C;AAAA,MAGuEC,QAHvE;;AAMAlB,EAAAA,SAAS,CACP,YAAM;AACJ,QAAIiB,qBAAJ,EAA2B;AACzB,UAAME,cAAc,GAAGX,SAAS,CAACQ,YAAD,CAAhC;AACA,UAAMI,kBAAkB,GAAGb,qBAAqB,CAACY,cAAD,EAAiBL,IAAjB,CAAhD;;AACA,UAAIM,kBAAJ,aAAIA,kBAAJ,eAAIA,kBAAkB,CAAEC,MAAxB,EAAgC;AAC9BH,QAAAA,QAAQ,CAACZ,qBAAqB,CAACc,kBAAD,EAAqBP,SAArB,CAAtB,CAAR;AACD;AACF;AACF,GATM,EAUP,CAACI,qBAAD,EAAwBD,YAAxB,EAAsCH,SAAtC,EAAiDC,IAAjD,CAVO,CAAT;AAaA,MAAMQ,eAAe,GAAGL,qBAAqB,GAAGJ,SAAH,GAAeG,YAAY,CAACK,MAAzE;AAEA,MAAME,oBAAoB,GAAG;AAC3BZ,IAAAA,SAAS,EAATA,SAD2B;AAE3BW,IAAAA,eAAe,EAAfA,eAF2B;AAG3BV,IAAAA,kBAAkB,EAAlBA,kBAH2B;AAI3BY,IAAAA,WAAW,EAAE;AAAA,aAAMN,QAAQ,CAACb,8BAA8B,EAA/B,CAAd;AAAA,KAJc;AAK3BoB,IAAAA,OAAO,EAAE;AAAA,aAAMP,QAAQ,CAACd,oBAAoB,EAArB,CAAd;AAAA;AALkB,GAA7B;AAOA,sBAAO,oBAAC,mBAAD,EAAyBmB,oBAAzB,CAAP;AACD,CA9BD;;AAgCAb,yBAAyB,CAACgB,YAA1B,GAAyC;AACvCf,EAAAA,SAAS,EAAEgB,SAD4B;AAEvCf,EAAAA,kBAAkB,EAAEH;AAFmB,CAAzC;AAKAC,yBAAyB,CAACkB,SAA1B,GAAsC;AACpCjB,EAAAA,SAAS,EAAEV,SAAS,CAAC4B,MADe;AAEpCjB,EAAAA,kBAAkB,EAAEX,SAAS,CAAC4B;AAFM,CAAtC;AAKA,eAAenB,yBAAf","sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport DataTableContext from '../DataTableContext';\nimport BaseSelectionStatus from './BaseSelectionStatus';\n\nimport {\n  clearSelectionAction,\n  setSelectAllRowsAllPagesAction,\n  setSelectedRowsAction,\n} from './data/actions';\nimport {\n  getUnselectedPageRows,\n  getRowIds,\n} from './data/helpers';\nimport { CLEAR_SELECTION_TEXT } from './data/constants';\n\nconst ControlledSelectionStatus = ({ className, clearSelectionText }) => {\n  const {\n    itemCount,\n    rows,\n    controlledTableSelections: [{ selectedRows, isEntireTableSelected }, dispatch],\n  } = useContext(DataTableContext);\n\n  useEffect(\n    () => {\n      if (isEntireTableSelected) {\n        const selectedRowIds = getRowIds(selectedRows);\n        const unselectedPageRows = getUnselectedPageRows(selectedRowIds, rows);\n        if (unselectedPageRows?.length) {\n          dispatch(setSelectedRowsAction(unselectedPageRows, itemCount));\n        }\n      }\n    },\n    [isEntireTableSelected, selectedRows, itemCount, rows],\n  );\n\n  const numSelectedRows = isEntireTableSelected ? itemCount : selectedRows.length;\n\n  const selectionStatusProps = {\n    className,\n    numSelectedRows,\n    clearSelectionText,\n    onSelectAll: () => dispatch(setSelectAllRowsAllPagesAction()),\n    onClear: () => dispatch(clearSelectionAction()),\n  };\n  return <BaseSelectionStatus {...selectionStatusProps} />;\n};\n\nControlledSelectionStatus.defaultProps = {\n  className: undefined,\n  clearSelectionText: CLEAR_SELECTION_TEXT,\n};\n\nControlledSelectionStatus.propTypes = {\n  className: PropTypes.string,\n  clearSelectionText: PropTypes.string,\n};\n\nexport default ControlledSelectionStatus;\n"],"file":"ControlledSelectionStatus.js"}