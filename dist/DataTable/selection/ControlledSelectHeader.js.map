{"version":3,"sources":["../../../src/DataTable/selection/ControlledSelectHeader.jsx"],"names":["React","useContext","useMemo","useCallback","PropTypes","CheckboxControl","DataTableContext","clearPageSelectionAction","setSelectedRowsAction","ControlledSelectHeader","rows","itemCount","controlledTableSelections","dispatch","getToggleAllPageRowsSelectedProps","selectedRowIds","state","isAllPageRowsSelected","selectedPageRowIds","Object","keys","toggleAllPageRowsSelected","toggleAllPageRowsSelectedProps","isIndeterminate","indeterminate","propTypes","arrayOf","shape","id","oneOfType","string","number","isRequired"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,OAA5B,EAAqCC,WAArC,QAAwD,OAAxD;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,SAASC,eAAT,QAAgC,YAAhC;AACA,OAAOC,gBAAP,MAA6B,qBAA7B;AAEA,SACEC,wBADF,EAEEC,qBAFF,QAGO,gBAHP;;AAKA,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,OAAc;AAAA,MAAXC,IAAW,QAAXA,IAAW;;AAC3C,oBAMIT,UAAU,CAACK,gBAAD,CANd;AAAA,MACEK,SADF,eACEA,SADF;AAAA,yDAEEC,yBAFF;AAAA,MAEgCC,QAFhC;AAAA,MAGEC,iCAHF,eAGEA,iCAHF;AAAA,MAIWC,cAJX,eAIEC,KAJF,CAIWD,cAJX;AAAA,MAKEE,qBALF,eAKEA,qBALF;;AAQA,MAAMC,kBAAkB,GAAGhB,OAAO,CAChC;AAAA,WAAMiB,MAAM,CAACC,IAAP,CAAYL,cAAZ,CAAN;AAAA,GADgC,EAEhC,CAACA,cAAD,CAFgC,CAAlC;AAKA,MAAMM,yBAAyB,GAAGlB,WAAW,CAC3C,YAAM;AACJ,QAAIc,qBAAJ,EAA2B;AACzBJ,MAAAA,QAAQ,CAACN,wBAAwB,CAACW,kBAAD,CAAzB,CAAR;AACD,KAFD,MAEO;AACLL,MAAAA,QAAQ,CAACL,qBAAqB,CAACE,IAAD,EAAOC,SAAP,CAAtB,CAAR;AACD;AACF,GAP0C,EAQ3C,CAACD,IAAD,EAAOQ,kBAAP,EAA2BD,qBAA3B,CAR2C,CAA7C;AAWA,MAAMK,8BAA8B,GAAGR,iCAAiC,EAAxE;AACAQ,EAAAA,8BAA8B,CAACC,eAA/B,GAAiDD,8BAA8B,CAACE,aAAhF,CA1B2C,CA2B3C;;AACA,SAAOF,8BAA8B,CAACE,aAAtC;AAEA,sBACE;AAAK,IAAA,SAAS,EAAC;AAAf,kBACE,oBAAC,eAAD,eACMF,8BADN;AAEE,IAAA,QAAQ,EAAED;AAFZ,KADF,CADF;AAQD,CAtCD;;AAwCAZ,sBAAsB,CAACgB,SAAvB,GAAmC;AACjCf,EAAAA,IAAI,EAAEN,SAAS,CAACsB,OAAV,CAAkBtB,SAAS,CAACuB,KAAV,CAAgB;AACtCC,IAAAA,EAAE,EAAExB,SAAS,CAACyB,SAAV,CAAoB,CAACzB,SAAS,CAAC0B,MAAX,EAAmB1B,SAAS,CAAC2B,MAA7B,CAApB,EAA0DC;AADxB,GAAhB,CAAlB,EAEFA;AAH6B,CAAnC;AAMA,eAAevB,sBAAf","sourcesContent":["import React, { useContext, useMemo, useCallback } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { CheckboxControl } from '../../Form';\nimport DataTableContext from '../DataTableContext';\n\nimport {\n  clearPageSelectionAction,\n  setSelectedRowsAction,\n} from './data/actions';\n\nconst ControlledSelectHeader = ({ rows }) => {\n  const {\n    itemCount,\n    controlledTableSelections: [, dispatch],\n    getToggleAllPageRowsSelectedProps,\n    state: { selectedRowIds },\n    isAllPageRowsSelected,\n  } = useContext(DataTableContext);\n\n  const selectedPageRowIds = useMemo(\n    () => Object.keys(selectedRowIds),\n    [selectedRowIds],\n  );\n\n  const toggleAllPageRowsSelected = useCallback(\n    () => {\n      if (isAllPageRowsSelected) {\n        dispatch(clearPageSelectionAction(selectedPageRowIds));\n      } else {\n        dispatch(setSelectedRowsAction(rows, itemCount));\n      }\n    },\n    [rows, selectedPageRowIds, isAllPageRowsSelected],\n  );\n\n  const toggleAllPageRowsSelectedProps = getToggleAllPageRowsSelectedProps();\n  toggleAllPageRowsSelectedProps.isIndeterminate = toggleAllPageRowsSelectedProps.indeterminate;\n  // delete unused ``indeterminate`` prop\n  delete toggleAllPageRowsSelectedProps.indeterminate;\n\n  return (\n    <div className=\"d-flex align-content-center p-1\">\n      <CheckboxControl\n        {...toggleAllPageRowsSelectedProps}\n        onChange={toggleAllPageRowsSelected}\n      />\n    </div>\n  );\n};\n\nControlledSelectHeader.propTypes = {\n  rows: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  })).isRequired,\n};\n\nexport default ControlledSelectHeader;\n"],"file":"ControlledSelectHeader.js"}