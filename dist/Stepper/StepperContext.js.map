{"version":3,"sources":["../../src/Stepper/StepperContext.jsx"],"names":["React","useCallback","useReducer","PropTypes","StepperContext","createContext","activeKey","stepsReducer","stepsState","action","newStepsState","type","filter","step","eventKey","some","map","index","sort","a","b","StepperContextProvider","children","steps","dispatch","registerStep","removeStep","getIsComplete","activeIndex","findIndex","thisIndex","propTypes","node","isRequired"],"mappings":"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","sourcesContent":["import React, { useCallback, useReducer } from 'react';\nimport PropTypes from 'prop-types';\n\nexport const StepperContext = React.createContext({\n  activeKey: '',\n});\n\nconst stepsReducer = (stepsState, action) => {\n  let newStepsState = [];\n  switch (action.type) {\n    case 'remove':\n      return stepsState.filter(step => step.eventKey !== action.eventKey);\n    case 'register':\n    default:\n      // If is existing step\n      if (stepsState.some(step => step.eventKey === action.step.eventKey)) {\n        newStepsState = stepsState.map(step => {\n          if (step.eventKey === action.step.eventKey) {\n            return action.step;\n          }\n          return step;\n        });\n      } else {\n        newStepsState = [...stepsState, action.step];\n      }\n\n      // If using the index prop\n      if (stepsState.some(step => step.index)) {\n        return newStepsState.sort((a, b) => (\n          a.index > b.index ? 1 : -1\n        ));\n      }\n      return newStepsState;\n  }\n};\n\nexport function StepperContextProvider({ children, activeKey }) {\n  const [steps, dispatch] = useReducer(stepsReducer, []);\n  const registerStep = useCallback((step) => dispatch({ step, type: 'register' }), []);\n  const removeStep = useCallback((eventKey) => dispatch({ eventKey, type: 'remove' }), []);\n  const getIsComplete = (eventKey) => {\n    const activeIndex = steps.findIndex(step => step.eventKey === activeKey);\n    const thisIndex = steps.findIndex(step => step.eventKey === eventKey);\n    return thisIndex < activeIndex;\n  };\n\n  return (\n    <StepperContext.Provider\n      value={{\n        activeKey,\n        registerStep,\n        steps,\n        removeStep,\n        getIsComplete,\n      }}\n    >\n      {children}\n    </StepperContext.Provider>\n  );\n}\n\nStepperContextProvider.propTypes = {\n  /** Specifies the content of the `ContextProvider`. */\n  children: PropTypes.node.isRequired,\n  /** Specifies the current step of the `Stepper`. */\n  activeKey: PropTypes.node.isRequired,\n};\n\nexport { stepsReducer };\n"],"file":"StepperContext.js"}