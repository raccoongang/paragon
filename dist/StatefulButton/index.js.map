{"version":3,"sources":["../../src/StatefulButton/index.jsx"],"names":["React","PropTypes","classNames","Button","Cancel","CheckCircleOutline","SpinnerSimple","Icon","StatefulButton","className","state","labels","icons","disabledStates","onClick","attributes","isDisabled","indexOf","icon","undefined","default","label","disabled","e","preventDefault","propTypes","string","objectOf","node","isRequired","arrayOf","func","defaultProps","pending","complete","error"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Button from '../Button';\nimport { Cancel, CheckCircleOutline, SpinnerSimple } from '../../icons';\nimport Icon from '../Icon';\n\nfunction StatefulButton({\n  className,\n  state,\n  labels,\n  icons,\n  disabledStates,\n  onClick,\n  ...attributes\n}) {\n  const isDisabled = disabledStates.indexOf(state) !== -1;\n  const icon = icons[state] !== undefined ? icons[state] : icons.default;\n  const label = labels[state] !== undefined ? labels[state] : labels.default;\n\n  return (\n    <Button\n      aria-live=\"assertive\"\n      aria-disabled={isDisabled}\n      className={classNames(\n        'pgn__stateful-btn',\n        `pgn__stateful-btn-state-${state}`,\n        className,\n        { disabled: isDisabled },\n      )}\n      onClick={(e) => {\n        // Swallow clicks if the button is disabled.\n        // We do this instead of disabling the button to prevent\n        // it from losing focus (disabled elements cannot have focus).\n        if (isDisabled) {\n          e.preventDefault();\n          return;\n        }\n\n        if (onClick) {\n          onClick(e);\n        }\n      }}\n      {...attributes}\n    >\n      <span className=\"d-flex align-items-center justify-content-center\">\n        {icon && <span className={classNames({ 'pgn__stateful-btn-icon': !!label })}>{icon}</span>}\n        {label ? <span>{label}</span> : <span className=\"sr-only\">{state}</span>}\n      </span>\n    </Button>\n  );\n}\n\nStatefulButton.propTypes = {\n  className: PropTypes.string,\n  /**\n   * Each state has:\n   * - A label (required)\n   * - An icon\n   * - an option to be disabled\n   *\n   * Control the state with the `state` prop. Example usage:\n   *\n   * ```jsx\n   * <StatefulButton\n   *   state=\"pending\"\n   *   labels={{\n   *     default: 'Download',\n   *     pending: 'Downloading',\n   *     complete: 'Downloaded',\n   *   }}\n   *   icons={{\n   *     default: <Icon className=\"fa fa-download\" />,\n   *     pending: <Icon className=\"fa fa-spinner fa-spin\" />,\n   *     complete: <Icon className=\"fa fa-check\" />,\n   *   }}\n   *   disabledStates=['pending']\n   *   className='btn-primary mr-2'\n   * />\n   * ```\n   */\n  state: PropTypes.string,\n  /** Required. Each state has a `label`. */\n  labels: PropTypes.objectOf(PropTypes.node).isRequired,\n  /** Required. Each state has an `icon`. */\n  icons: PropTypes.objectOf(PropTypes.node),\n  /** Required. Each state has a `disabledState` */\n  disabledStates: PropTypes.arrayOf(PropTypes.string),\n  /** Specifies the callback function when the button is clicked */\n  onClick: PropTypes.func,\n};\n\nStatefulButton.defaultProps = {\n  className: undefined,\n  state: 'default',\n  icons: {\n    default: undefined,\n    pending: <Icon src={SpinnerSimple} className={classNames('icon-spin')} />,\n    complete: <Icon src={CheckCircleOutline} />,\n    error: <Icon src={Cancel} />,\n  },\n  disabledStates: ['pending', 'complete'],\n  onClick: undefined,\n};\n\nexport default StatefulButton;\n"],"file":"index.js"}