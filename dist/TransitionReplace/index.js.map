{"version":3,"sources":["../../src/TransitionReplace/index.jsx"],"names":["React","PropTypes","CSSTransition","TransitionGroup","classNames","TransitionReplace","props","state","height","onChildEnter","bind","onChildEntering","onChildEntered","onChildExit","onChildExiting","onChildExited","htmlNode","setState","offsetHeight","child","key","process","env","NODE_ENV","console","warn","commonChildStyles","padding","transitionStyles","entering","entered","exiting","position","top","left","right","pointerEvents","exited","enter","enterDuration","exit","exitDuration","transitionClassNames","className","Children","map","children","renderChildTransition","Component","propTypes","element","number","string","func","shape","defaultProps","undefined"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport classNames from 'classnames';\n\nclass TransitionReplace extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { height: null };\n\n    this.onChildEnter = this.onChildEnter.bind(this);\n    this.onChildEntering = this.onChildEntering.bind(this);\n    this.onChildEntered = this.onChildEntered.bind(this);\n    this.onChildExit = this.onChildExit.bind(this);\n    this.onChildExiting = this.onChildExiting.bind(this);\n    this.onChildExited = this.onChildExited.bind(this);\n  }\n\n  // Transition events are fired in this order:\n  //\n  // onEnter > onEntering > onEntered\n  // onExit  > onExiting  > onExited\n  //\n  // Keep in mind that we always have two transitions happening\n  // both the entering and leaving children\n  //\n  // We set the container height (for animation) in this order:\n  //\n  // 1. onChildExit         (explicitly set the height to match the current current)\n  // 2. onChildEntering     (set the height to match the new content)\n  // 3. onChildExited       (reset the height to null)\n\n  onChildEnter(htmlNode) {\n    if (this.props.onChildEnter) { this.props.onChildEnter(htmlNode); }\n  }\n\n  onChildEntering(htmlNode) {\n    this.setState({ height: htmlNode.offsetHeight });\n    if (this.props.onChildEntering) { this.props.onChildEntering(htmlNode); }\n  }\n\n  onChildEntered(htmlNode) {\n    this.setState({ height: null });\n    if (this.props.onChildEntered) { this.props.onChildEntered(htmlNode); }\n  }\n\n  onChildExit(htmlNode) {\n    this.setState({ height: htmlNode.offsetHeight });\n    if (this.props.onChildExit) { this.props.onChildExit(htmlNode); }\n  }\n\n  onChildExiting(htmlNode) {\n    if (this.props.onChildExiting) { this.props.onChildExiting(htmlNode); }\n  }\n\n  onChildExited(htmlNode) {\n    this.setState({ height: null });\n    if (this.props.onChildExited) { this.props.onChildExited(htmlNode); }\n  }\n\n  renderChildTransition(child) {\n    if (!child.key && process.env.NODE_ENV === 'development') {\n      // eslint-disable-next-line no-console\n      console.warn(\"TransitionReplace: A child is missing a 'key' prop. Keys are required for any child of this component.\");\n    }\n    // Makes the exiting and entering children occupy the same space\n    // SCSS handles the crossfade so it can be easily overridden\n    const commonChildStyles = {\n      // Prevent margin-collapsing which throws off height calculations\n      padding: '.1px 0',\n    };\n\n    const transitionStyles = {\n      entering: {},\n      entered: {},\n      exiting: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        right: 0,\n        pointerEvents: 'none',\n      },\n      exited: {},\n    };\n\n    return (\n      <CSSTransition\n        timeout={{\n          enter: this.props.enterDuration,\n          exit: this.props.exitDuration,\n        }}\n        unmountOnExit\n        mountOnEnter\n        onEnter={this.onChildEnter}\n        onEntering={this.onChildEntering}\n        onEntered={this.onChildEntered}\n        onExit={this.onChildExit}\n        onExiting={this.onChildExiting}\n        onExited={this.onChildExited}\n        classNames={this.props.transitionClassNames}\n      >\n        {state => (\n          <div\n            style={{\n              ...commonChildStyles,\n              ...transitionStyles[state],\n              ...this.props.transitionStyles[state],\n            }}\n          >\n            {child}\n          </div>\n        )}\n      </CSSTransition>\n    );\n  }\n\n  render() {\n    return (\n      <TransitionGroup\n        className={classNames(\n          'pgn-transition-replace-group',\n          'position-relative',\n          { 'overflow-hidden': this.state.height !== null },\n          this.props.className,\n        )}\n        style={{ height: this.state.height }}\n      >\n        {React.Children.map(this.props.children, this.renderChildTransition, this)}\n      </TransitionGroup>\n    );\n  }\n}\n\nTransitionReplace.propTypes = {\n  /** Specifies an additional class for the base element */\n  children: PropTypes.element,\n  /** Duration of the element appearance transition. */\n  enterDuration: PropTypes.number,\n  /** Duration of the element dismiss transition. */\n  exitDuration: PropTypes.number,\n  /** Specifies class name to append to the base element. */\n  className: PropTypes.string,\n  /** A `Transition` callback fired immediately after the `enter` or `appear` class is applied. */\n  onChildEnter: PropTypes.func,\n  /** A `Transition` callback fired immediately after the `enter-active` or `appear-active` class is applied. */\n  onChildEntering: PropTypes.func,\n  /**\n   * A `Transition` callback fired immediately after the `enter` or\n   * `appear` classes are removed and the done class is added to the DOM node.\n   */\n  onChildEntered: PropTypes.func,\n  /** A `Transition` callback fired immediately after the `exit` class is applied. */\n  onChildExit: PropTypes.func,\n  /** A `Transition` callback fired immediately after the `exit-active` is applied. */\n  onChildExiting: PropTypes.func,\n  /**\n   * A `Transition` callback fired immediately after the `exit` classes\n   * are removed and the exit-done class is added to the DOM node.\n   */\n  onChildExited: PropTypes.func,\n  /** An object that specifies transition styles. */\n  transitionStyles: PropTypes.shape({\n    entering: PropTypes.shape({}),\n    entered: PropTypes.shape({}),\n    exiting: PropTypes.shape({}),\n    exited: PropTypes.shape({}),\n  }),\n  /** Specifies class name to append to the `Transition`. */\n  transitionClassNames: PropTypes.string,\n};\n\nTransitionReplace.defaultProps = {\n  children: undefined,\n  enterDuration: 300,\n  exitDuration: 300,\n  className: undefined,\n  onChildEnter: undefined,\n  onChildEntering: undefined,\n  onChildEntered: undefined,\n  onChildExit: undefined,\n  onChildExiting: undefined,\n  onChildExited: undefined,\n  transitionStyles: {},\n  transitionClassNames: 'pgn__transition-replace',\n};\n\nexport default TransitionReplace;\n"],"file":"index.js"}